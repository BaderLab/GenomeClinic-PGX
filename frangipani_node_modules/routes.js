/*
 * Defines the routes for the Server.
 * @author Ron Ammar
 */

var express= require("express");
var ga4ghRequests= require("./ga4gh-requests");


var getRouter= express.Router();
getRouter.use(function(request, response) {
	var promise= ga4ghRequests.getProjects();

	promise.then(function(result) {
		// Currently, I'm not paying attention to the next page token because
		// it doesn't appear. If it ever does, write an error to console.
		if (result.nextPageToken !== undefined) {
			console.log("ERROR: nextPageToken found, not managed.");
		}

		response.send(result);
	}, function(err) {
		console.log(err);
	});
});

exports.getRouter= getRouter;