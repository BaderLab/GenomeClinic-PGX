module.exports = function(app,passport){

	//==================================================================
	//LOGIN Request
	//==================================================================

	app.get('/login',function(req,res){
		if (req.isAuthenticated())
			res.redirect("/");
		res.sendFile('foundation-5.4.6/frangipani-login.html',{root:'.'})
	})

	app.post('/login',passport.authenticate('local-login',{
		successRedirect:'/',
		failureRedirect:'/login',
		failureFlash:true
	}));
		
	//==================================================================
	//SIGNUP Request
	//==================================================================
	app.get('/signup',function(req,res){
		if (req.isAuthenticated())
			res.redirect("/");
		res.sendFile('foundation-5.4.6/frangipani-signup.html',{root:'.'})
	});

	app.post('/signup',passport.authenticate('local-signup',{
		successRedirect:'/',
		failureRedirect:'/signup',
		failureFlash:true
	}));

	app.get('/recover', function(req,res){
		if (req.isAuthenticated())
			res.redirect('/');
		
		res.sendFile('foundation-5.4.6/frangipani-recover.html',{root:'.'});
	});

	//==================================================================
	//LOGIN WITH GOOGLE Request
	//==================================================================
	app.get('/auth/google', passport.authenticate('google', { scope : ['profile', 'email'] }));


	//==================================================================
	//RESPONSE FROM GOOGLE Request
	//==================================================================
    app.get('/auth/google/callback',
        passport.authenticate('google', {
            successRedirect : '/',
            failureRedirect : '/login'
       	})
    );

}